<div class="container row mt-3">


    <div class="col-lg-7 col-md-12">

        <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">

            <div class="bg-gradient-primary shadow-primary border-radius-lg pt-4 pb-3">
                <h6 class="text-white text-capitalize ps-3">Detail Etudiant</h6>
            </div>
        </div>
        <div class="card mb-4">
            <div class="card-body">

                <div class="user-heading round">
                    <div class="d-flex px-2 py-1">

                        <img src="data:image/png;base64,{{etudiant.profileImage}}"
                            class="avatar avatar-lg me-3 border-radius-lg" alt="user1">

                        <h2 style="margin-bottom:0">{{etudiant.nomE}} {{etudiant.prenomE}}</h2>

                    </div>
                    <p style="margin-top: 0;" class="text-muted"></p>


                </div>

                <hr>



                <h6 class="my-3">Details</h6>
                <div class="row mb-2">
                    <div class="col-md-3 text-muted "
                        [routerLink]="['/universites/departements',etudiant.departement.universite?.idUniv]">Universite
                        :
                    </div>
                    <div class="col-md-9 linked">
                        {{etudiant.departement.universite?.nomUniv}}
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="col-md-3 text-muted ">Departement :</div>
                    <div class="col-md-9 linked"
                        [routerLink]="['/departements/detail',etudiant.departement.idDepartement]">
                        {{etudiant.departement.nomDepart}}
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="col-md-3 text-muted ">Option
                        :
                    </div>
                    <div class="col-md-9 linked">
                        {{etudiant.opt}}
                    </div>
                </div>

                <div class="mb-0 mt-4" style="float: right;">
                    <button class="btn btn-warning m-2"
                        [routerLink]="['/etudiants/update',etudiant.idEtudiant]">Modifier</button>
                    <button class="btn btn-danger m-2" data-bs-toggle="modal" (click)="showModal=true"
                        data-bs-target="#exampleModal">Supprimer</button>
                    <div class="modal fade myelement" id="exampleModal" tabindex="-1"
                        aria-labelledby="exampleModalLabel" [ngClass]="{'show':showModal}" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Suppression Etudiant</h5>
                                    <p type="button" data-bs-dismiss="modal" aria-label="Close"
                                        (click)="showModal =false" style="color:gray"><i class="fa-solid fa-xmark"></i>
                                    </p>
                                </div>
                                <div class="modal-body">
                                    <p style="color:gray">Vous etes sur que vous voulez supprimer {{etudiant.prenomE}}
                                        {{etudiant.nomE}}</p>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                                        (click)="showModal=false">Close</button>
                                    <button type="button" class="btn btn-danger" (click)="delete(etudiant)"
                                        data-bs-dismiss="modal">Confirmer</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>






            </div>
            <div class="card-footer text-center p-0 ">
                <div class="row no-gutters row-bordered row-border-light">
                    <a href="javascript:void(0)" class="d-flex col flex-column text-body py-3">
                        <div class="font-weight-bold">{{contrats.length}}</div>
                        <div class="text-muted small">Contrats</div>
                    </a>

                </div>
            </div>
        </div>
        <!-- / Info -->
    </div>
    <div class="row bootstrap snippets bootdeys col-lg-5 col-md-8 col-xs-12 contrat">
        <div class="container-widget p-3">
            <div class="panel panel-info panel-widget">
                <div class="panel-title text-center">
                    Contrats de {{etudiant.prenomE}} {{etudiant.nomE}}
                </div>
                <div class="panel-body p-3">
                    <ul class="basic-list image-list" *ngIf="contrats.length > 0 ">
                        <li *ngFor="let co of contrats">
                            <div class="d-flex  align-items-center ">
                                <div class="w-80">
                                    <p>From {{co.dateDebutContrat}} To {{co.dateFinContrat}}</p>
                                    <span class="desc">{{co.specialite}}</span>
                                </div>


                            </div>

                        </li>

                    </ul>
                    <span *ngIf="contrats.length == 0">
                        <div class="d-flex flex-column justify-content-center align-items-center">
                            <p>Pas de contrats</p>
                        </div>

                        <div class="panel-title p-2 text-center">
                            <button class="btn btn-primary mb-0" routerLink="/contrats/new">Ajouter
                                Contrat</button>
                        </div>
                    </span>
                    <div class="panel-title p-2 text-center" *ngIf="contrats.length != 0">
                        <button class="btn btn-primary mb-0" routerLink="/contrats">Gerer
                            Contrats</button>
                    </div>
                </div>
            </div>
        </div>